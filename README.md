# Telegram-бот проверки портфолио

Проект реализует Telegram-бота на Python 3.11 для проверки ZIP-архивов портфолио студентов. Бот валидирует структуру папок/имена файлов без полной распаковки, опционально проверяет титульные листы PDF и выставляет отметки в Google Sheets.

## Возможности
- Принимает только ZIP-архивы; RAR отклоняются.
- Строгая проверка структуры архива и имён PDF.
- Опциональная проверка титульного листа (заглушка по умолчанию).
- Сохранение принятых архивов в локальное хранилище.
- Запись отметки TRUE в Google Sheets при успешной проверке.
- Ручная проверка и админ-команды внутри Telegram-диалога.
- Счётчик неудач: после 3 попыток предлагается ручная проверка.

## Быстрый старт
1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Заполните `config.json`:
   - `telegram.token` — токен бота.
   - `google_sheets.service_account_json_path` — путь к JSON сервисного аккаунта.
3. Запустите бота:
   ```bash
   python datator.py
   ```

## Структура архива
```
<GROUP>/<STUDENT_SHORT>/<DISCIPLINE_FULL>/<WORKTYPE_FOLDER>/<PDF_FILE>.pdf
```
Где `STUDENT_SHORT` — формат `Фамилия ИО`.

## Проверка титульного листа
По умолчанию используется `StubTitleAnalyzer`. Для включения CV-проверки установите зависимости из `requirements_cv.txt` и задайте `title_check.enabled=true` и `title_check.backend="yolo"`.

## Тесты
```bash
pytest
```
